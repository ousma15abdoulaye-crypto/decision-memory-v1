# V3.3.2 — Vérification intégrité du freeze (sans masquage)
name: CI Freeze Integrity

on:
  push:
    branches: [main, freeze-v3.3.2]
  pull_request:
    branches: [main, freeze-v3.3.2]

jobs:
  freeze-integrity:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Check freeze files exist
        run: |
          test -f docs/freeze/v3.3.2/SHA256SUMS.txt || (echo "Missing docs/freeze/v3.3.2/SHA256SUMS.txt" && exit 1)
          test -f docs/freeze/v3.3.2/FREEZE_MANIFEST.md || (echo "Missing docs/freeze/v3.3.2/FREEZE_MANIFEST.md" && exit 1)

      - name: Verify checksums
        run: sha256sum -c docs/freeze/v3.3.2/SHA256SUMS.txt
